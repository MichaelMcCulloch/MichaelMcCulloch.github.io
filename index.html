<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Michael McCulloch — Systems, Silicon & Self-Organizing Intelligence</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description"
    content="First-principles ML engineer building dissipative, lifelong learning systems. Cloud by day, silicon-native intelligence by night." />
  <link rel="icon" type="image/png" href="face128x128.png" />
  <style>
    :root {
      --bg: #ffffff;
      --bg-elevated: #fafafa;
      --fg: #1d1d1f;
      --fg-muted: #86868b;

      --accent: #0071e3;
      --accent-soft: rgba(0, 113, 227, 0.08);
      --accent-deep: #0044cc;
      --accent-warm: #f56300;

      --border-subtle: rgba(0, 0, 0, 0.06);
      --code-bg: #f5f5f7;
      --shadow-soft: 0 4px 24px rgba(0, 0, 0, 0.06);

      --font-body: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Inter", "Segoe UI", sans-serif;
      --font-mono: "SF Mono", "JetBrains Mono", Menlo, Consolas, monospace;

      --spacing-xs: 0.5rem;
      --spacing-sm: 1rem;
      --spacing-md: 1.5rem;
      --spacing-lg: 2.5rem;
      --spacing-xl: 4rem;

      --transition-fast: 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      --transition-med: 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      --transition-slow: 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html,
    body {
      background: var(--bg);
      color: var(--fg);
      font-family: var(--font-body);
      -webkit-font-smoothing: antialiased;
      scroll-behavior: smooth;
      line-height: 1.5;
      width: 100%;
      height: 100%;
    }

    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      overflow-x: hidden;
    }

    /* 3D background canvas */
    #bg-canvas {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
      z-index: 0;
    }

    /* Blur / glass overlay over 3D */
    .bg-blur-layer {
      position: fixed;
      inset: 0;
      z-index: 1;
      pointer-events: none;
      backdrop-filter: blur(20px) saturate(140%);
      -webkit-backdrop-filter: blur(20px) saturate(140%);
      background:
        radial-gradient(circle at top left, rgba(255, 255, 255, 0.5), transparent 55%),
        radial-gradient(circle at bottom right, rgba(255, 255, 255, 0.5), transparent 60%);
      opacity: 0.9;
    }

    a {
      color: var(--accent);
      text-decoration: none;
      transition: all var(--transition-fast);
    }

    a:hover {
      color: var(--accent-deep);
    }

    /* Content sits above everything */
    .app-root {
      position: relative;
      z-index: 2;
      width: 100%;
    }

    main {
      width: 100%;
      max-width: 1200px;
      padding: var(--spacing-sm) var(--spacing-sm) var(--spacing-xl);
      margin: 0 auto;
    }

    @media (min-width: 880px) {
      main {
        padding: var(--spacing-md) var(--spacing-lg) var(--spacing-xl);
      }
    }

    /* Header */
    .app-header {
      position: sticky;
      top: 0;
      z-index: 3;
      backdrop-filter: blur(18px) saturate(160%);
      -webkit-backdrop-filter: blur(18px) saturate(160%);
      background: rgba(255, 255, 255, 0.85);
      border-bottom: 1px solid var(--border-subtle);
      width: 100%;
    }

    .app-header-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: var(--spacing-xs) var(--spacing-sm);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--spacing-sm);
    }

    @media (min-width: 880px) {
      .app-header-inner {
        padding: var(--spacing-xs) var(--spacing-lg);
      }
    }

    .brand-block {
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
    }

    .brand-initials {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      border: 1px solid var(--border-subtle);
      flex-shrink: 0;
    }

    .brand-initials img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      gap: 0.125rem;
    }

    .brand-name {
      font-size: 0.9rem;
      font-weight: 600;
      letter-spacing: 0.02em;
    }

    .brand-tagline {
      font-size: 0.75rem;
      color: var(--fg-muted);
    }

    .app-nav {
      display: flex;
      gap: 0.5rem;
    }

    .nav-item {
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      border: 1px solid var(--border-subtle);
      background: var(--bg-elevated);
      color: var(--fg-muted);
      font-size: 0.8rem;
      font-weight: 500;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .nav-item:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    .nav-item.active {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }

    /* Layout */
    .app-shell {
      margin-top: var(--spacing-lg);
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--spacing-lg);
      align-items: start;
    }

    @media (max-width: 879px) {
      .app-shell {
        grid-template-columns: 1fr;
      }
    }

    .surface {
      background: rgba(250, 250, 250, 0.92);
      border-radius: 18px;
      border: 1px solid var(--border-subtle);
      box-shadow: var(--shadow-soft);
      padding: var(--spacing-md);
      position: relative;
      overflow: hidden;
    }

    @media (min-width: 880px) {
      .surface {
        padding: var(--spacing-lg);
      }
    }

    .tagline {
      font-size: 0.75rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--fg-muted);
      margin-bottom: var(--spacing-xs);
    }

    .name-row {
      display: flex;
      flex-wrap: wrap;
      align-items: baseline;
      gap: var(--spacing-sm);
      margin-bottom: var(--spacing-xs);
    }

    .name {
      font-size: clamp(1.8rem, 4vw, 2.5rem);
      font-weight: 700;
      letter-spacing: -0.02em;
      line-height: 1.1;
    }

    .role-pill {
      font-size: 0.75rem;
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      background: var(--accent-soft);
      color: var(--accent-deep);
      font-weight: 500;
    }

    .subtitle {
      font-size: 1.1rem;
      color: var(--fg-muted);
      margin-bottom: var(--spacing-md);
      max-width: 45rem;
    }

    .subtitle strong {
      color: var(--fg);
      font-weight: 600;
    }

    .meta-row {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-md);
      font-size: 0.9rem;
    }

    .meta-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--fg-muted);
    }

    .meta-value {
      color: var(--fg);
    }

    .contact-section {
      margin-bottom: var(--spacing-md);
    }

    .contact-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--fg-muted);
      margin-bottom: 0.25rem;
    }

    .email-link {
      font-family: var(--font-mono);
      font-size: 0.85rem;
      padding: 0.5rem 0.75rem;
      border-radius: 8px;
      background: var(--code-bg);
      border: 1px solid var(--border-subtle);
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .link-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    .chip-link {
      font-size: 0.8rem;
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      border: 1px solid var(--border-subtle);
      background: var(--bg);
      color: var(--fg-muted);
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      transition: all var(--transition-fast);
    }

    .chip-link:hover {
      border-color: var(--accent);
      color: var(--accent);
      transform: translateY(-1px);
    }

    .chip-link svg {
      width: 16px;
      height: 16px;
      flex-shrink: 0;
    }

    .divider {
      border: none;
      border-top: 1px solid var(--border-subtle);
      margin: var(--spacing-md) 0;
    }

    .about-text {
      font-size: 1rem;
      color: var(--fg);
      margin-bottom: var(--spacing-sm);
    }

    .about-text strong {
      font-weight: 600;
    }

    .highlight-block {
      border-radius: 12px;
      border: 1px solid rgba(0, 113, 227, 0.2);
      background: linear-gradient(135deg, var(--accent-soft), transparent);
      padding: var(--spacing-sm);
      margin-top: var(--spacing-sm);
    }

    .highlight-tag {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--accent-deep);
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .panel-stack {
      display: grid;
      gap: var(--spacing-sm);
    }

    .panel {
      border-radius: 14px;
      border: 1px solid var(--border-subtle);
      background: rgba(255, 255, 255, 0.9);
      padding: var(--spacing-md);
      display: none;
      opacity: 0;
      transform: translateY(10px);
      transition: all var(--transition-med);
    }

    .panel.active {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .panel-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: var(--spacing-sm);
      margin-bottom: var(--spacing-xs);
    }

    .panel-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--fg);
    }

    .panel-tagline {
      font-size: 0.85rem;
      color: var(--fg-muted);
    }

    .pill-tag {
      font-size: 0.75rem;
      padding: 0.3rem 0.7rem;
      border-radius: 20px;
      background: var(--code-bg);
      border: 1px solid var(--border-subtle);
      color: var(--fg-muted);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      font-weight: 500;
    }

    .panel-body {
      font-size: 0.95rem;
      color: var(--fg);
    }

    .panel-body p {
      margin: 0.5rem 0;
    }

    .panel-body ul {
      margin: 0.5rem 0 0.5rem 1.5rem;
    }

    .panel-body li {
      margin-bottom: 0.25rem;
    }

    .section-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--accent-warm);
      font-weight: 600;
      margin-top: var(--spacing-sm);
      margin-bottom: 0.25rem;
    }

    .badge-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: var(--spacing-sm);
    }

    .badge {
      font-size: 0.75rem;
      padding: 0.3rem 0.7rem;
      border-radius: 20px;
      border: 1px solid var(--border-subtle);
      background: var(--bg-elevated);
      color: var(--fg-muted);
    }

    .badge-accent {
      border-color: var(--accent);
      background: var(--accent-soft);
      color: var(--accent-deep);
    }

    blockquote {
      margin: var(--spacing-sm) 0;
      padding-left: var(--spacing-md);
      border-left: 3px solid var(--accent);
      color: var(--fg-muted);
      font-style: italic;
      font-size: 0.95rem;
    }

    footer {
      max-width: 1200px;
      margin: var(--spacing-xl) auto var(--spacing-md);
      padding: 0 var(--spacing-sm);
      color: var(--fg-muted);
      font-size: 0.75rem;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: var(--spacing-xs);
      position: relative;
      z-index: 2;
    }

    @media (max-width: 600px) {
      footer {
        flex-direction: column;
      }
    }
  </style>
</head>

<body>
  <!-- 3D Lorenz background -->
  <canvas id="bg-canvas" aria-hidden="true"></canvas>
  <div class="bg-blur-layer" aria-hidden="true"></div>

  <div class="app-root">
    <header class="app-header">
      <div class="app-header-inner">
        <div class="brand-block">
          <div class="brand-initials">
            <img src="face128x128.png" alt="Michael McCulloch">
          </div>
          <div class="brand-text">
            <div class="brand-name">Michael McCulloch</div>
            <div class="brand-tagline">Systems, Silicon & Self-Organizing Intelligence</div>
          </div>
        </div>
        <nav class="app-nav" aria-label="Primary">
          <button class="nav-item active" data-route="overview">Overview</button>
          <button class="nav-item" data-route="work">AANS</button>
          <button class="nav-item" data-route="writing">Writing</button>
          <button class="nav-item" data-route="meta">Meta</button>
        </nav>
      </div>
    </header>

    <main>
      <div class="app-shell">
        <!-- LEFT -->
        <section class="surface" aria-label="Profile Overview">
          <div class="tagline">Natural Law / Silicon Substrate</div>

          <div class="name-row">
            <h1 class="name">Michael McCulloch</h1>
            <span class="role-pill">Machine Learning & Physical Systems</span>
          </div>

          <p class="subtitle">
            I build self-organizing neural architectures that acquire structure through continuous online interaction
            with their environment.
          </p>

          <div class="meta-row">
            <div>
              <div class="meta-label">Affiliation</div>
              <div class="meta-value">deepsense.ai — Cloud ML Engineer</div>
            </div>
            <div>
              <div class="meta-label">Focus</div>
              <div class="meta-value">Free Energy Principle, dissipative systems, structural credit</div>
            </div>
          </div>

          <div class="contact-section">
            <div class="contact-label">Contact</div>
            <a class="email-link" href="mailto:michael.mcculloch@semanticallyinvalid.com">
              michael.mcculloch@semanticallyinvalid.com
            </a>
          </div>

          <div class="contact-section">
            <div class="contact-label">Profiles</div>
            <div class="link-row">
              <a class="chip-link" href="https://github.com/MichaelMcCulloch" target="_blank">
                <img src="github_icon.svg" alt="" style="width: 16px; height: 16px;">
                GitHub
              </a>
              <a class="chip-link" href="https://www.linkedin.com/in/michael-mcculloch/" target="_blank">
                <img src="LinkedIn_icon.svg" alt="" style="width: 16px; height: 16px;">
                LinkedIn
              </a>
              <a class="chip-link" href="https://substack.com/@semanticallyinvalid" target="_blank">
                <img src="substack-icon.svg" alt="" style="width: 16px; height: 16px;">
                Substack
              </a>
              <a class="chip-link" href="https://orcid.org/0009-0008-9234-7189" target="_blank">
                <img src="ORCID_iD.svg" alt="" style="width: 16px; height: 16px;">
                ORCID
              </a>
            </div>
          </div>
          <!-- 
          <hr class="divider" />

          <p class="about-text">
            <strong>Day:</strong> Cloud ML Engineer. I build systems to outlast human error—minimal surfaces against
            entropy.
          </p>

          <p class="about-text">
            <strong>Night:</strong> I copy nature's homework: derive natural law in silicon, bestow biochemistry's
            tricks upon CUDA.
          </p>

          <div class="highlight-block">
            <div class="highlight-tag">Current Direction</div>
            <div>Online, lifelong learning systems that behave like <strong>physical processes</strong>—watersheds,
              cells, hurricanes—implemented on GPU.</div>
          </div> -->
        </section>

        <!-- RIGHT -->
        <section class="surface" aria-label="Content Navigator">
          <div class="panel-stack">
            <!-- Overview -->
            <article id="panel-overview" class="panel active">
              <div class="panel-header">
                <div>
                  <div class="panel-title">Self-Organization as a Physical Principle</div>
                  <div class="panel-tagline">Prigogine, Friston, one story</div>
                </div>
                <!-- <span class="pill-tag">Research</span> -->
              </div>
              <div class="panel-body">
                <p class="section-label">From dissipation to form</p>
                <p>A hurricane retains its structure by casting out the wind.<br>
                  A living cell retains its structure by casting out heat.<br>
                  A star retains its structure by casting out radiation.<br>
                  A mind retains its structure by casting out surprise.
                </p>
                <p>From hurricanes to living cells to stars to brains, these are dissipative systems. They
                  maintain structure by importing low entropy and exporting high entropy. Friston frames this as
                  minimizing surprisal. Prigogine frames it as a force of nature. They are the same story.</p>

                <!-- <p class="section-label">The Gap: Principle → Mechanism</p>
                <p>Credit assignment. Spatial: which parameter? Temporal: when did it matter? Structural: which
                  parameters
                  should exist at all? Classical deep learning outsources structural credit to architecture search. AANS
                  solves it locally.</p> -->

                <div class="badge-row">
                  <span class="badge badge-accent">Free Energy Principle</span>
                  <span class="badge badge-accent">Non-Equilibrium Steady State</span>
                  <span class="badge">Markov blankets</span>
                  <span class="badge">Active Inference</span>
                </div>
              </div>
            </article>

            <!-- Work -->
            <article id="panel-work" class="panel">
              <div class="panel-header">
                <div>
                  <div class="panel-title">Autonomous Assembly of Neural Structure</div>
                  <div class="panel-tagline">AANS: Dissipation of Surprisal</div>
                </div>
                <!-- <span class="pill-tag">Active</span> -->
              </div>
              <div class="panel-body">
                <p class="section-label">Abstract</p>
                <p>A constructive proof that the free energy principle can be realized via exact local credit assignment
                  as a dissipative system over recurrent networks.</p>

                <p class="section-label">Contribution</p>
                <p>A trophic field map solves structural credit assignment by modeling surprise as food and the
                  network as a food web.</p>

                <p class="section-label">Results</p>
                <ul>
                  <li>Lunar lander in <strong>&lt;30 episodes</strong>, no replay buffers</li>
                  <li>&gt;97% Pearson correlation with eligibility propagation</li>
                  <li><strong>0% catastrophic forgetting</strong> in tested regimes</li>
                  <li>Sub-50ms latency at full GPU saturation</li>
                </ul>

                <div class="badge-row">
                  <span class="badge badge-accent">Dissipative systems</span>
                  <span class="badge badge-accent">Free Energy Principle</span>
                  <span class="badge">Online learning</span>
                  <span class="badge">CUDA</span>
                  <span class="badge">Triton</span>
                </div>

                <p style="margin-top: var(--spacing-sm);">
                  <a href="https://github.com/MichaelMcCulloch/Autonomous-Assembly-of-Neural-Structure"
                    target="_blank">Code</a> ·
                  <a href="https://lnkd.in/gVtxKUTC" target="_blank">Write-up</a>
                </p>
              </div>
            </article>

            <!-- Writing -->
            <article id="panel-writing" class="panel">
              <div class="panel-header">
                <div>
                  <div class="panel-title">Writing</div>
                  <div class="panel-tagline">One eye on the future, one eye on the past.</div>
                </div>
              </div>
              <div class="panel-body">
                <p class="section-label">Both hands on the present.</p>
                <blockquote>The only thing we learn from history is that we learn nothing from history.</blockquote>
                - Georg Hegel
                <blockquote>History Doesn't Repeat Itself, but It Often Rhymes.</blockquote>- Mark Twain
                <blockquote>Prediction is very difficult, especially about the future.</blockquote>- Niels Bohr

                <p class="section-label">Un-disorientation</p>
                <p>It is easy to get lost in the present if you don't pay attention to how you got there and where you
                  are going. Reality is fundamentally constraint-driven, usually in the form of energy constraints. The
                  history of technology is one of a dialogue between the human ideal and the practical reality, and of
                  taking sides.</p>


                <p class="section-label">Artificial General Intelligence</p>
                <p>The history of biological intelligence is one of energy scarcity and environmental pressures,
                  together driving a hyper-efficient instantiation of the nature of learning: the human brain. </p>

                <p>These constraints simply do not apply to machine intelligences, as they know nothing of energy
                  scarcity. AGI will therefore be a gluttonous behemoth of mathematical precision, powered by a robust,
                  distributed grid.
                </p>
                <div class="badge-row">
                  <a class="badge badge-accent" href="https://substack.com/@semanticallyinvalid"
                    target="_blank">Substack</a>
                  <a class="badge badge-accent" href="https://github.com/MichaelMcCulloch" target="_blank">GitHub</a>
                  <span class="badge">AI Slop-Free</span>
                </div>
              </div>
            </article>

            <!-- Meta -->
            <article id="panel-meta" class="panel">
              <div class="panel-header">
                <div>
                  <div class="panel-title">Meta</div>
                  <div class="panel-tagline">How I think about work</div>
                </div>
              </div>
              <div class="panel-body">
                <p class="section-label">First Principles</p>
                <p>Deriving it from scratch is so much easier than memorizing each output. So do that.</p>

                <p class="section-label">Depth × Breadth = Volume</p>
                <p>The Pareto optimum is on a curve somewhere between specialization and generalization. Maximize the
                  area under that
                  curve. Every problem deserves the brunt of what we can bring to bear.</p>

                <p class="section-label">Tools ≠ Identity</p>
                <p>I am not a Java program, but I have been known to write them. There is no ultimate tool, only the
                  best one for the job at hand.</p>

                <p class="section-label">Entropy as Constraint</p>
                <p>Minimal surfaces, minimal hair. The fewer ways a system can fail, the longer it stands.</p>

                <div class="badge-row">
                  <span class="badge">1st principles</span>
                  <span class="badge">Systems</span>
                  <span class="badge">Entropy</span>
                </div>
              </div>
            </article>
          </div>
        </section>
      </div>
    </main>

    <footer>
      <div>© <span id="year"></span> Michael McCulloch — semanticallyinvalid.com</div>
    </footer>
  </div>

  <!-- three.js UMD from local file -->
  <script src="three.umd.min.js"></script>
  <script>
    // SPA routing
    (function () {
      const yearEl = document.getElementById('year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();

      const routeDefault = 'overview';
      const routeToPanel = {
        overview: 'panel-overview',
        work: 'panel-work',
        writing: 'panel-writing',
        meta: 'panel-meta'
      };

      const panelEls = document.querySelectorAll('.panel');
      const topNavItems = document.querySelectorAll('.nav-item');

      function activatePanel(panelId, routeName) {
        panelEls.forEach(panel => panel.classList.toggle('active', panel.id === panelId));
        topNavItems.forEach(item => item.classList.toggle('active', item.dataset.route === routeName));
      }

      function routeTo(hash) {
        const routeName = (hash || `#${routeDefault}`).replace('#', '').trim() || routeDefault;
        const panelId = routeToPanel[routeName];
        if (panelId) activatePanel(panelId, routeName);
      }

      window.addEventListener('hashchange', () => routeTo(location.hash));
      topNavItems.forEach(el => el.addEventListener('click', () => (location.hash = el.dataset.route)));

      routeTo(location.hash);
    })();

    // Lorenz attractor background using three.js (non-module build)
    (function () {
      const canvas = document.getElementById('bg-canvas');
      if (!canvas || typeof THREE === 'undefined') return;

      const renderer = new THREE.WebGLRenderer({
        canvas,
        antialias: true,
        alpha: true
      });
      renderer.setPixelRatio(window.devicePixelRatio || 1);

      const scene = new THREE.Scene();

      const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.set(0, 0, 100);

      // Soft ambient light
      const ambient = new THREE.AmbientLight(0xffffff, 0.8);
      scene.add(ambient);

      // Lorenz parameters: chaotic, vibrant
      const sigma = 10;
      const rho = 28;
      const beta = 8 / 3;

      const dt = 0.005;
      let x = 0.1, y = 0, z = 0;
      const maxPoints = 8000;

      const positions = new Float32Array(maxPoints * 3);
      let index = 0;

      const geometry = new THREE.BufferGeometry();
      geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

      const material = new THREE.LineBasicMaterial({
        color: 0x0071e3,
        linewidth: 3,
        transparent: true,
        opacity: 0.95
      });

      const lorenzLine = new THREE.Line(geometry, material);
      lorenzLine.scale.set(2.5, 2.5, 2.5); // Make it MUCH bigger
      scene.add(lorenzLine);

      // Subtle color shifting over time
      let hue = 210; // start in blue
      function updateColor() {
        hue = (hue + 0.15) % 360;
        const color = new THREE.Color("hsl(" + hue + ", 90%, 55%)");
        lorenzLine.material.color = color;
      }

      // Integrate Lorenz system
      function stepLorenz() {
        const dx = sigma * (y - x);
        const dy = x * (rho - z) - y;
        const dz = x * y - beta * z;

        x += dx * dt;
        y += dy * dt;
        z += dz * dt;

        positions[index * 3 + 0] = x;
        positions[index * 3 + 1] = y;
        positions[index * 3 + 2] = z;

        index++;
        if (index >= maxPoints) {
          // Shift points to create continuous, trailing effect
          for (let i = 0; i < (maxPoints - 1) * 3; i++) {
            positions[i] = positions[i + 3];
          }
          index = maxPoints - 1;
        }

        geometry.setDrawRange(0, index);
        geometry.attributes.position.needsUpdate = true;
      }

      // Resize handler
      function onResize() {
        const w = window.innerWidth;
        const h = window.innerHeight;
        renderer.setSize(w, h);
        camera.aspect = w / h;
        camera.updateProjectionMatrix();
      }
      window.addEventListener('resize', onResize);
      onResize();

      let t = 0;
      function animate() {
        requestAnimationFrame(animate);

        // Multiple small steps per frame for smooth curves
        for (let i = 0; i < 10; i++) stepLorenz();

        // Slow orbit, give a sense of depth
        t += 0.001;
        const radius = 110;
        camera.position.x = Math.cos(t) * radius;
        camera.position.z = Math.sin(t) * radius;
        camera.position.y = Math.sin(t * 0.5) * 15;
        camera.lookAt(0, 0, 0);

        updateColor();

        renderer.render(scene, camera);
      }

      animate();
    })();
  </script>
</body>

</html>